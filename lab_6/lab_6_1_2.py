"""
Автор:      Гашев Владимир Дмитриевич
Группа:     ИУ7-12Б
Лаба:       №6 — Списки
Задание:    1b. Добавить элемент в заданное место списка (по индексу) с использованием средств Python.
Описание:   Ввод целочисленного списка, значения вставляемого элемента и индекса вставки.
            Проверка корректности ввода и границ индекса. Вывод изменённого списка.
"""

# Ввод списка целых чисел с проверкой
while True:
    try:
        line = input("Введите элементы списка через пробел: ").strip()
        if line == "":
            print("Ошибка: список не должен быть пустым. Повторите ввод.")
            continue
        mass = list(map(int, line.split()))
        break
    except ValueError:
        print("Ошибка: ввод должен содержать только целые числа. Повторите ввод.")

# Ввод вставляемого элемента
while True:
    try:
        elm = int(input("Введите вставляемый элемент (целое число): "))
        break
    except ValueError:
        print("Ошибка: нужно ввести целое число. Повторите ввод.")

# Ввод индекса вставки с проверкой диапазона [0; len(mass)]
while True:
    try:
        idx = int(input(f"Введите индекс вставки (от 0 до {len(mass)}): "))
        if 0 <= idx <= len(mass):
            break
        print(f"Ошибка: индекс должен быть в диапазоне от 0 до {len(mass)} включительно.")
    except ValueError:
        print("Ошибка: нужно ввести целое число. Повторите ввод.")

# Алгоритмическая вставка:
# 1) Увеличиваем длину списка на 1 фиктивным элементом
mass.append(0)
# 2) Сдвигаем элементы вправо от конца до позиции idx
i = len(mass) - 1
while i > idx:
    mass[i] = mass[i - 1]
    i -= 1
# 3) Записываем новый элемент на освободившуюся позицию
mass[idx] = elm

# Вывод изменённого списка
print("Изменённый список:", mass)